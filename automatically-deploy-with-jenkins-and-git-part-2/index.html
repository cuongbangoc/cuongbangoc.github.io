
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">

  <title>Automatically Deploy with Jenkins and Git (Part 2)</title>

  <meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="viewport" content="width=device-width, initial-scale=1">



<link rel="apple-touch-icon" sizes="57x57" href="../assets/img/apple-touch-icon-57x57.png?v=wAAv6Wqe6l">
<link rel="apple-touch-icon" sizes="60x60" href="../assets/img/apple-touch-icon-60x60.png?v=wAAv6Wqe6l">
<link rel="apple-touch-icon" sizes="72x72" href="../assets/img/apple-touch-icon-72x72.png?v=wAAv6Wqe6l">
<link rel="apple-touch-icon" sizes="76x76" href="../assets/img/apple-touch-icon-76x76.png?v=wAAv6Wqe6l">
<link rel="apple-touch-icon" sizes="114x114" href="../assets/img/apple-touch-icon-114x114.png?v=wAAv6Wqe6l">
<link rel="apple-touch-icon" sizes="120x120" href="../assets/img/apple-touch-icon-120x120.png?v=wAAv6Wqe6l">
<link rel="apple-touch-icon" sizes="144x144" href="../assets/img/apple-touch-icon-144x144.png?v=wAAv6Wqe6l">
<link rel="apple-touch-icon" sizes="152x152" href="../assets/img/apple-touch-icon-152x152.png?v=wAAv6Wqe6l">
<link rel="apple-touch-icon" sizes="180x180" href="../assets/img/apple-touch-icon-180x180.png?v=wAAv6Wqe6l">
<link rel="icon" type="image/png" href="../assets/img/favicon-32x32.png?v=wAAv6Wqe6l" sizes="32x32">
<link rel="icon" type="image/png" href="../assets/img/favicon-194x194.png?v=wAAv6Wqe6l" sizes="194x194">
<link rel="icon" type="image/png" href="../assets/img/favicon-96x96.png?v=wAAv6Wqe6l" sizes="96x96">
<link rel="icon" type="image/png" href="../assets/img/android-chrome-192x192.png?v=wAAv6Wqe6l" sizes="192x192">
<link rel="icon" type="image/png" href="../assets/img/favicon-16x16.png?v=wAAv6Wqe6l" sizes="16x16">
<link rel="manifest" href="../assets/img/manifest.json?v=wAAv6Wqe6l">
<link rel="shortcut icon" href="../assets/img/favicon.ico?v=wAAv6Wqe6l">
<meta name="msapplication-TileColor" content="#e74c3c">
<meta name="msapplication-TileImage" content="/assets/img/mstile-144x144.png?v=wAAv6Wqe6l">
<meta name="msapplication-config" content="/assets/img/browserconfig.xml?v=wAAv6Wqe6l">
<meta name="theme-color" content="#e74c3c">

  <link rel="stylesheet" type="text/css" href="../assets/css/uno.css?v=e774f5081e">

  <link rel="canonical" href="http://localhost:2368/automatically-deploy-with-jenkins-and-git-part-2/">
    
    <meta property="og:site_name" content="CuongBN - Just Do It">
    <meta property="og:type" content="article">
    <meta property="og:title" content="Automatically Deploy with Jenkins and Git (Part 2)">
    <meta property="og:description" content="Introduction Today, I will show to you how to create a new job to deploy source code in Git Server to Deployment Server by Jenkins. In previous article, we have installed successful Jenkins, so we will use it to create...">
    <meta property="og:url" content="http://localhost:2368/automatically-deploy-with-jenkins-and-git-part-2/">
    <meta property="article:published_time" content="2015-05-18T18:26:23.000Z">
    <meta property="article:modified_time" content="2015-08-30T13:25:47.361Z">
    <meta property="article:tag" content="deploy">
    <meta property="article:tag" content="git">
    <meta property="article:tag" content="jenkins">
    <meta property="article:tag" content="Linux">
    
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Automatically Deploy with Jenkins and Git (Part 2)">
    <meta name="twitter:description" content="Introduction Today, I will show to you how to create a new job to deploy source code in Git Server to Deployment Server by Jenkins. In previous article, we have installed successful Jenkins, so we will use it to create...">
    <meta name="twitter:url" content="http://localhost:2368/automatically-deploy-with-jenkins-and-git-part-2/">
    
    <script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "Article",
    "publisher": "CuongBN - Just Do It",
    "author": {
        "@type": "Person",
        "name": "Cuong Ba Ngoc",
        "image": "//www.gravatar.com/avatar/6d6e584a65d5852e400df206334e72b1?s=250&d=mm&r=x",
        "url": "http://localhost:2368/author/cuongbangoc",
        "sameAs": null,
        "description": null
    },
    "headline": "Automatically Deploy with Jenkins and Git (Part 2)",
    "url": "http://localhost:2368/automatically-deploy-with-jenkins-and-git-part-2/",
    "datePublished": "2015-05-18T18:26:23.000Z",
    "dateModified": "2015-08-30T13:25:47.361Z",
    "keywords": "deploy, git, jenkins, Linux",
    "description": "Introduction Today, I will show to you how to create a new job to deploy source code in Git Server to Deployment Server by Jenkins. In previous article, we have installed successful Jenkins, so we will use it to create..."
}
    </script>

    <meta name="generator" content="Ghost 0.6">
    <link rel="alternate" type="application/rss+xml" title="CuongBN - Just Do It" href="http://localhost:2368/rss/">
    <script>
var profile_title = 'Cuong Ba Ngoc';
var profile_resume ='Software Engineer';
</script>

</head>
<body class="post-template tag-deploy tag-git-2 tag-jenkins tag-linux">

  <section id="menu-button" class="expanded">
    <a href="index.html"><i class="icon icon-list"></i></a>
  </section>

  <aside class="cover">

  <div class="cover container">
    <div class="profile">
      <a id="avatar-link" title="link to homepage for CuongBN - Just Do It" href="http://localhost:2368/#open">
        <img src="../content/images/2015/08/avatar.jpg" alt="CuongBN - Just Do It avatar" class="profile avatar rounded hvr-buzz-out">
        <h1 id="profile-title">CuongBN - Just Do It</h1>
        <h3 id="profile-resume"></h3>
      </a>

      <hr class="divider long">
      <p>Software Engineer, I'm a man passionate about programming languages, new technologies and open-sources...</p>
      <hr class="divider short">
      <div class="navigation">
        <div class="profile contact">
          <nav class="navigation left">
  <ul class="links">
    <li class="links item">
      <a href="http://localhost:2368" class="link-item" title="Home" id="home-button"> Home </a>
      <a href="http://localhost:2368/#open" class="link-item" title="CuongBN - Just Do It blog" id="blog-button">Blog</a>
        <a href="../about/" class="link-item" id="-button">About</a>
    </li>
  </ul>
</nav>
          
<nav class="navigation right">
  <ul class="social expanded">

  <!-- Twitter -->
  <!--<li class="social item hvr-grow-rotate">
    <a target="blank" href="http://twitter.com/kikobeats" title="@Kikobeats on Twitter">
      <i class='icon icon-social-twitter'></i>
      <span class="label">Twitter</span>
    </a>
  </li> -->

  <!-- Linkedin -->
  <li class="social item hvr-grow-rotate">
    <a target="blank" href="http://linkedin.com/in/cuongbangoc" title="CuongBaNgoc on LinkedIn">
      <i class="icon icon-social-linkedin"></i>
      <span class="label">Linkedin</span>
    </a>
  </li>

  <!-- Github -->
  <li class="social item hvr-grow-rotate">
    <a target="blank" href="https://github.com/cuongbangoc" title="CuongBaNgoc on Github">
      <i class="icon icon-social-github"></i>
      <span class="label">Github</span>
    </a>
  </li>

  <!-- Facebook -->
    <li class="social item hvr-grow-rotate">
      <a target="blank" href="http://facebook.com/ngoccuongkaka" title="CuongBaNgoc on Facebook">
        <i class="icon icon-social-facebook"></i>
        <span class="label">Facebook</span>
      </a>
    </li>

  <!-- RSS -->
  <li class="social item hvr-grow-rotate">
    <a href="../rss/index.rss" title="Subscribe to RSS">
      <i class="icon icon-rss"></i>
      <span class="label">RSS</span>
    </a>
  </li>

  </ul>
</nav>
          <section class="icon icon-search" id="search-container">
  <hr class="divider short">
  <form id="search-form">
    <input type="text" name="search" placeholder="git, css, javascript,..." id="search-field">
  </form>
</section>
        </div>
      </div>
    </div>
  </div>
</aside>

  <main>
    <section id="search-results"></section>
    <section class="content">
      

  <article class="post tag-deploy tag-git-2 tag-jenkins tag-linux">
    <header>
      <div class="post meta">
        <time datetime="19 May 2015">19 May 2015</time>
        <span class="post tags">in <a href="../tag/deploy/">deploy</a> <a href="../tag/git-2/">git</a> <a href="../tag/jenkins/">jenkins</a> <a href="../tag/linux/">Linux</a></span>


        <span class="post reading-time"> ~ <span></span> read.</span>
      </div>

      <a alt="Tweet 'Automatically Deploy with Jenkins and Git (Part 2)'" href="https://twitter.com/intent/tweet?text=Automatically%20Deploy%20with%20Jenkins%20and%20Git%20(Part%202)%20%20%C2%BB%20&amp;url=http://localhost:2368/automatically-deploy-with-jenkins-and-git-part-2/">
        
        <h1 class="icon-reverse icon-social-twitter-post" id="post-title">Automatically Deploy with Jenkins and Git (Part 2)</h1>
      </a>
    </header>

    <div id="post-content" class="post tag-deploy tag-git-2 tag-jenkins tag-linux">
      <h3 id="introduction">Introduction</h3>

<p>Today, I will show to you how to create a new job to deploy source code in Git Server to Deployment Server by Jenkins. In previous article, we have installed successful Jenkins, so we will use it to create new job.</p>

<h3 id="addingpublicsshkey">Adding public ssh key</h3>

<p>The first step, we need to add ssh-key of Jenkins’s server to Git Server and Deployment Server. After that Jenkins can communicate with Git Server and Deployment Server without enter password. You log into Jenkins Server with jenkins user, after that gen-key by typing:</p>

<pre><code class="language-prettyprint lang-bash">ssh-keygen -t rsa -C "your_email@example.com"  
</code></pre>

<p>The next step, you open <strong>/var/lib/jenkins/.ssh/id<em>rsa.pub</em></strong> and copy content. The next step, you go to Git Server and Deployment Server and adding jenkin’s key. You paste jenkin’s key to <strong>/home/username/.ssh/authorizedkeys</strong> of the both Git Server and Deployment Server.</p>

<h3 id="installgitclientpluginforjenkins">Install Git client plugin for Jenkins</h3>

<p>The next step, you go to Jenkins server <a href="http://yourserver:8080">http://yourserver:8080</a> and install “git client plugin” for jenkins. You go to Jenkins with administrator user, after that go to Manager Jenkins and choose Manager Plugin. Next, you click on “Available” tab and search “Git client plugin”, checking it and click “install without restart”. Now, You have Git client plugin installed.</p>

<h3 id="installrsync">Install rsync</h3>

<p>The next, you need to install “rsync”. We will use it to copy source code to Deployment Server. To install rsync, you only typing in terminal:</p>

<pre><code class="language-prettyprint lang-bash">sudo apt-get install rsync  
</code></pre>

<h3 id="createajobtodeploy">Create a job to deploy</h3>

<p>Now, we will create job to deploy source code in Git Server to Deployment Server by Jenkins. You go to Jenkins Server and login by admin user. After that, you click “New item” in the left menu and choose free-style project.</p>

<p><img src="http://res.cloudinary.com/cuongbangoc/image/upload/v1440942115/wordpress_blog/9.png" alt=""></p>

<p>Press Ok and on the next page, You checking “This build is parameterized” to deploy with parameter for job.</p>

<p><a href="http://res.cloudinary.com/cuongbangoc/image/upload/v1440913226/config-param-jenkins_ynecql.jpg"><img src="http://res.cloudinary.com/cuongbangoc/image/upload/v1440913226/config-param-jenkins_ynecql.jpg?w=300" alt="config param jenkins" title=""></a></p>

<p>The next step, In Source Code Management you choose Git and enter Repository URL of code and Branch to build.</p>

<p><a href="http://cuongba.16mb.com/wp-content/uploads/2015/05/git-config-jenkins.png"><img src="http://cuongba.16mb.com/wp-content/uploads/2015/05/git-config-jenkins.png?w=300" alt="Git config jenkins" title=""></a></p>

<p>The next step, In build tab, you add Execute shell.</p>

<p><img src="http://res.cloudinary.com/cuongbangoc/image/upload/v1440942272/wordpress_blog/10.png" alt=""></p>

<p>After that fill in command textbox: install rsync, you only typing in terminal:</p>

<pre><code class="language-prettyprint lang-bash">DESTINATION_SERVER=username@your_deployment_server  
DESTINATION_PATH=/home/sigma/cuongbn/folder_deploy  
RSYNC_PARAMS='-rl --del --exclude=.git --exclude rsync.log --log-file=rsync.log '  
# run unit test if you have 
python3 unit_test/test.py  
# deploy sources 
eval rsync $RSYNC_PARAMS ./ $DESTINATION_SERVER:$DESTINATION_PATH  
</code></pre>

<p>The final, You click Save button. Now, in the dashboard of Jenkins will show your job. You choose it and click “Build with Parameters” to Build and deploy your code to Deployment Server.</p>
    </div>

    <div class="post related">
        <a rel="prev" id="prev-btn" class="btn small square" href="../automatically-deploy-with-jenkins-and-git-part-1/">← Automatically Deploy with Jenkins and Git (Part 1)</a>

        <a rel="next" id="next-btn" class="btn small square" href="../fix-error-when-installing-scrapy-on-ubuntu-14-04/">Fix Error When Installing Scrapy on Ubuntu 14.04 →</a>
    </div>

    <footer class="post comments">
  <div id="disqus_thread"></div>
  <script type="text/javascript">
  (function() {
  var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
  dsq.src = '//' + window.disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</footer>

  </article>


      <footer>
  <span class="copyright">
   <a href="http://localhost:2368" style="font-weight: bold;">CuongBa Blog</a> © 2015. All rights reserved. Built with <a href="https://ghost.org/" target="_blank">Ghost</a> and <a href="https://github.com/Kikobeats/uno-zen" target="_blank">Uno Zen</a> theme.
  </span>
</footer>
    </section>
  </main>

  <script src="../public/jquery.js?v=e774f5081e"></script>
  <script type="text/javascript" src="../assets/js/run_prettify.js?v=e774f5081e"></script>
  <script type="text/javascript" src="../assets/js/uno.js?v=e774f5081e"></script>
  <script>
  if (window.ga_id) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', window.ga_id, 'auto');
    ga('require', 'linkid', 'linkid.js');
    ga('send', 'pageview');
  }
</script>
</body>
