
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">

  <title>How To Install Linux, Nginx, MySQL, PHP (LEMP) On Ubuntu 14.04</title>

  <meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="viewport" content="width=device-width, initial-scale=1">



<link rel="apple-touch-icon" sizes="57x57" href="../assets/img/apple-touch-icon-57x57.png?v=wAAv6Wqe6l">
<link rel="apple-touch-icon" sizes="60x60" href="../assets/img/apple-touch-icon-60x60.png?v=wAAv6Wqe6l">
<link rel="apple-touch-icon" sizes="72x72" href="../assets/img/apple-touch-icon-72x72.png?v=wAAv6Wqe6l">
<link rel="apple-touch-icon" sizes="76x76" href="../assets/img/apple-touch-icon-76x76.png?v=wAAv6Wqe6l">
<link rel="apple-touch-icon" sizes="114x114" href="../assets/img/apple-touch-icon-114x114.png?v=wAAv6Wqe6l">
<link rel="apple-touch-icon" sizes="120x120" href="../assets/img/apple-touch-icon-120x120.png?v=wAAv6Wqe6l">
<link rel="apple-touch-icon" sizes="144x144" href="../assets/img/apple-touch-icon-144x144.png?v=wAAv6Wqe6l">
<link rel="apple-touch-icon" sizes="152x152" href="../assets/img/apple-touch-icon-152x152.png?v=wAAv6Wqe6l">
<link rel="apple-touch-icon" sizes="180x180" href="../assets/img/apple-touch-icon-180x180.png?v=wAAv6Wqe6l">
<link rel="icon" type="image/png" href="../assets/img/favicon-32x32.png?v=wAAv6Wqe6l" sizes="32x32">
<link rel="icon" type="image/png" href="../assets/img/favicon-194x194.png?v=wAAv6Wqe6l" sizes="194x194">
<link rel="icon" type="image/png" href="../assets/img/favicon-96x96.png?v=wAAv6Wqe6l" sizes="96x96">
<link rel="icon" type="image/png" href="../assets/img/android-chrome-192x192.png?v=wAAv6Wqe6l" sizes="192x192">
<link rel="icon" type="image/png" href="../assets/img/favicon-16x16.png?v=wAAv6Wqe6l" sizes="16x16">
<link rel="manifest" href="../assets/img/manifest.json?v=wAAv6Wqe6l">
<link rel="shortcut icon" href="../assets/img/favicon.ico?v=wAAv6Wqe6l">
<meta name="msapplication-TileColor" content="#e74c3c">
<meta name="msapplication-TileImage" content="/assets/img/mstile-144x144.png?v=wAAv6Wqe6l">
<meta name="msapplication-config" content="/assets/img/browserconfig.xml?v=wAAv6Wqe6l">
<meta name="theme-color" content="#e74c3c">

  <link rel="stylesheet" type="text/css" href="../assets/css/uno.css?v=070d8cda22">

  <link rel="canonical" href="http://cuongbangoc.github.io/how-to-install-linux-nginx-mysql-php-lemp-on-ubuntu-14-04/">
    
    <meta property="og:site_name" content="CuongBN - Just Do It">
    <meta property="og:type" content="article">
    <meta property="og:title" content="How To Install Linux, Nginx, MySQL, PHP (LEMP) On Ubuntu 14.04">
    <meta property="og:description" content="Introduction The LEMP software stack is a group of software that can be used to serve dynamic web pages and web applications. This is an acronym that describes a Linux operating system, with an Nginx web server. The backend data...">
    <meta property="og:url" content="http://cuongbangoc.github.io/how-to-install-linux-nginx-mysql-php-lemp-on-ubuntu-14-04/">
    <meta property="article:published_time" content="2015-02-24T00:04:44.000Z">
    <meta property="article:modified_time" content="2015-08-30T11:26:56.020Z">
    <meta property="article:tag" content="LEMP">
    <meta property="article:tag" content="Linux">
    <meta property="article:tag" content="mysql">
    <meta property="article:tag" content="Nginx">
    <meta property="article:tag" content="php">
    
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="How To Install Linux, Nginx, MySQL, PHP (LEMP) On Ubuntu 14.04">
    <meta name="twitter:description" content="Introduction The LEMP software stack is a group of software that can be used to serve dynamic web pages and web applications. This is an acronym that describes a Linux operating system, with an Nginx web server. The backend data...">
    <meta name="twitter:url" content="http://cuongbangoc.github.io/how-to-install-linux-nginx-mysql-php-lemp-on-ubuntu-14-04/">
    
    <script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "Article",
    "publisher": "CuongBN - Just Do It",
    "author": {
        "@type": "Person",
        "name": "Cuong Ba Ngoc",
        "image": "//www.gravatar.com/avatar/6d6e584a65d5852e400df206334e72b1?s=250&d=mm&r=x",
        "url": "http://cuongbangoc.github.io/author/cuongbangoc",
        "sameAs": null,
        "description": null
    },
    "headline": "How To Install Linux, Nginx, MySQL, PHP (LEMP) On Ubuntu 14.04",
    "url": "http://cuongbangoc.github.io/how-to-install-linux-nginx-mysql-php-lemp-on-ubuntu-14-04/",
    "datePublished": "2015-02-24T00:04:44.000Z",
    "dateModified": "2015-08-30T11:26:56.020Z",
    "keywords": "LEMP, Linux, mysql, Nginx, php",
    "description": "Introduction The LEMP software stack is a group of software that can be used to serve dynamic web pages and web applications. This is an acronym that describes a Linux operating system, with an Nginx web server. The backend data..."
}
    </script>

    <meta name="generator" content="Ghost 0.6">
    <link rel="alternate" type="application/rss+xml" title="CuongBN - Just Do It" href="http://cuongbangoc.github.io/rss/">
    <script>
var profile_title = 'Cuong Ba Ngoc';
var profile_resume ='Software Engineer';
</script>

</head>
<body class="post-template tag-lemp tag-linux tag-mysql tag-nginx tag-php">

  <section id="menu-button" class="expanded">
    <a href="index.html"><i class="icon icon-list"></i></a>
  </section>

  <aside class="cover">

  <div class="cover container">
    <div class="profile">
      <a id="avatar-link" title="link to homepage for CuongBN - Just Do It" href="../index.html#open">
        <img src="../content/images/2015/08/avatar.jpg" alt="CuongBN - Just Do It avatar" class="profile avatar rounded hvr-buzz-out">
        <h1 id="profile-title">CuongBN - Just Do It</h1>
        <h3 id="profile-resume"></h3>
      </a>

      <hr class="divider long">
      <p>Software Engineer, I'm a man passionate about programming languages, new technologies and open-sources...</p>
      <hr class="divider short">
      <div class="navigation">
        <div class="profile contact">
          <nav class="navigation left">
  <ul class="links">
    <li class="links item">
      <a href="index.html" class="link-item" title="Home" id="home-button"> Home </a>
      <a href="../index.html#open" class="link-item" title="CuongBN - Just Do It blog" id="blog-button">Blog</a>
        <a href="../about/" class="link-item" id="-button">About</a>
    </li>
  </ul>
</nav>
          
<nav class="navigation right">
  <ul class="social expanded">

  <!-- Twitter -->
  <!--<li class="social item hvr-grow-rotate">
    <a target="blank" href="http://twitter.com/kikobeats" title="@Kikobeats on Twitter">
      <i class='icon icon-social-twitter'></i>
      <span class="label">Twitter</span>
    </a>
  </li> -->

  <!-- Linkedin -->
  <li class="social item hvr-grow-rotate">
    <a target="blank" href="http://linkedin.com/in/cuongbangoc" title="CuongBaNgoc on LinkedIn">
      <i class="icon icon-social-linkedin"></i>
      <span class="label">Linkedin</span>
    </a>
  </li>

  <!-- Github -->
  <li class="social item hvr-grow-rotate">
    <a target="blank" href="https://github.com/cuongbangoc" title="CuongBaNgoc on Github">
      <i class="icon icon-social-github"></i>
      <span class="label">Github</span>
    </a>
  </li>

  <!-- Facebook -->
    <li class="social item hvr-grow-rotate">
      <a target="blank" href="http://facebook.com/ngoccuongkaka" title="CuongBaNgoc on Facebook">
        <i class="icon icon-social-facebook"></i>
        <span class="label">Facebook</span>
      </a>
    </li>

  <!-- RSS -->
  <li class="social item hvr-grow-rotate">
    <a href="../rss/index.rss" title="Subscribe to RSS">
      <i class="icon icon-rss"></i>
      <span class="label">RSS</span>
    </a>
  </li>

  </ul>
</nav>
          <section class="icon icon-search" id="search-container">
  <hr class="divider short">
  <form id="search-form">
    <input type="text" name="search" placeholder="git, css, javascript,..." id="search-field">
  </form>
</section>
        </div>
      </div>
    </div>
  </div>
</aside>

  <main>
    <section id="search-results"></section>
    <section class="content">
      

  <article class="post tag-lemp tag-linux tag-mysql tag-nginx tag-php">
    <header>
      <div class="post meta">
        <time datetime="24 Feb 2015">24 Feb 2015</time>
        <span class="post tags">in <a href="../tag/lemp/">LEMP</a> <a href="../tag/linux/">Linux</a> <a href="../tag/mysql/">mysql</a> <a href="../tag/nginx/">Nginx</a> <a href="../tag/php/">php</a></span>


        <span class="post reading-time"> ~ <span></span> read.</span>
      </div>

      <a alt="Tweet 'How To Install Linux, Nginx, MySQL, PHP (LEMP) On Ubuntu 14.04'" href="https://twitter.com/intent/tweet?text=How%20To%20Install%20Linux%2C%20Nginx%2C%20MySQL%2C%20PHP%20(LEMP)%20On%20Ubuntu%2014.04%20%20%C2%BB%20&amp;url=http://cuongbangoc.github.io/how-to-install-linux-nginx-mysql-php-lemp-on-ubuntu-14-04/">
        
        <h1 class="icon-reverse icon-social-twitter-post" id="post-title">How To Install Linux, Nginx, MySQL, PHP (LEMP) On Ubuntu 14.04</h1>
      </a>
    </header>

    <div id="post-content" class="post tag-lemp tag-linux tag-mysql tag-nginx tag-php">
      <h3 id="introduction">Introduction</h3>

<p>The LEMP software stack is a group of software that can be used to serve dynamic web pages and web applications. This is an acronym that describes a Linux operating system, with an Nginx web server. The backend data is stored in MySQL and the dynamic processing is handled by PHP. Nginx is one of the most popular web servers in the world and is responsible for hosting some of the largest and highest-traffic sites on the internet. It is more resource-friendly than Apache in most cases and can be used as a web server or a reverse proxy.</p>

<p>In this guide, I will show how to install Nginx Server and LEMP stack on Ubuntu 14.04.</p>

<h3 id="steponeinstallnginxwebserver">Step one – Install Nginx Web Server</h3>

<p>We can install Nginx server by:</p>

<pre><code class="language-prettyprint lang-bash">sudo apt-get update  
sudo apt-get install nginx  
</code></pre>

<p>In Ubuntu 14.04, Nginx is configured to start running upon installation. You can go to Nginx’s default page to test:</p>

<pre><code class="language-prettyprint lang-bash">http://server_domain_name_or_IP  
</code></pre>

<p>If you see the Nginx page, you have successfully installed Nginx.</p>

<h3 id="steptwoinstallmysql">Step two – Install MySQL</h3>

<p>MySQL Installation is the same install MySQL in <a href="https://cuongbangoc.github.io/install-linux-apache-mysql-php-lamp-on-ubuntu-14-04/" title="Install Linux, Apache, MySQL, PHP (LAMP) on Ubuntu 14.04">LAMP</a>. To install MySQL, you can typing in command line:</p>

<pre><code class="language-prettyprint lang-bash">sudo apt-get install mysql-server  
</code></pre>

<p>You will be asked to supply a root (administrative) password for use within the MySQL system.</p>

<p>The MySQL database software is now installed, but its configuration is not exactly complete yet.</p>

<p>First, we need to tell MySQL to generate the directory structure it needs to store its databases and information. We can do this by typing:</p>

<pre><code class="language-prettyprint lang-bash">sudo mysql_install_db  
</code></pre>

<p>After that, you’ll want to run a simple security script that will prompt you to modify some insecure defaults. Begin the script by typing:</p>

<pre><code class="language-prettyprint lang-bash">sudo mysql_secure_installation  
</code></pre>

<p>You will need to enter the MySQL root password that you selected during installation.</p>

<p>Next, it will ask if you want to change that password. If you are happy with your MySQL root password, type “N” for no and hit “ENTER”. Afterwards, you will be prompted to remove some test users and databases. You should just hit “ENTER” through these prompts to remove the unsafe default settings.</p>

<p>Once the script has been run, MySQL is ready to go.</p>

<h3 id="stepthreeinstallphp">Step three – Install PHP</h3>

<p>Now we have Nginx installed to serve our pages and MySQL installed to store and manage our data, but we still need something to connect these two pieces and to generate dynamic content. We can use PHP for this.</p>

<p>Since Nginx does not contain native PHP processing like some other web servers, we will need to install <strong><em><code>php5-fpm</code></em></strong>, which stands for “fastCGI process manager”. We will tell Nginx to pass PHP requests to this software for processing.</p>

<p>We can install this module and an additional helper package that will allow PHP to communicate with our database back-end. The installation will pull in the necessary PHP core files. Do this by typing:</p>

<pre><code class="language-prettyprint lang-bash">sudo apt-get install php5-fpm php5-mysql  
</code></pre>

<h4 id="configurephpprocessor">Configure PHP Processor</h4>

<p>We now have our PHP components installed, but we need to make a slight configuration change to make our setup more secure.</p>

<p>Open the main <code>php5-fpm</code> configuration file with root privileges:</p>

<pre><code class="language-prettyprint lang-bash">sudo vim /etc/php5/fpm/php.ini  
</code></pre>

<p>What we are looking for in this file is the parameter that sets <code>cgi.fix_pathinfo</code>. This will be commented out with a semi-colon (;) and set to “1” by default.</p>

<p>This is an extremely insecure setting because it tells PHP to attempt to execute the closest file it can find if a PHP file does not match exactly. This basically would allow users to craft PHP requests in a way that would allow them to execute scripts that they shouldn’t be allowed to execute.</p>

<p>We will change both of these conditions by uncommenting the line and setting it to “0” like this:</p>

<pre><code class="language-prettyprint lang-bash">cgi.fix_pathinfo=0  
</code></pre>

<p>Save and close the file when you are finished.</p>

<p>Now, we just need to restart our PHP processor by typing:</p>

<pre><code class="language-prettyprint lang-bash">sudo service php5-fpm restart  
</code></pre>

<p>This will implement the change that we made.</p>

<h3 id="stepfourconfigurenginxtousephpprocessor">Step four – configure Nginx to use PHP processor</h3>

<p>Now, we need to do is tell Nginx to use our PHP processor for dynamic content. We do this on the server block level (server blocks are similar to Apache’s virtual hosts). Open the default Nginx server block configuration file by typing:</p>

<pre><code class="language-prettyprint lang-bash">sudo vim /etc/nginx/sites-available/default  
</code></pre>

<p>Currently, with the comments removed, the Nginx default server block file looks like this:</p>

<pre><code class="language-prettyprint lang-bash">server {  
    listen 80 default_server; 
    listen [::]:80 default_server ipv6only=on; 
    root /usr/share/nginx/html; 
    index index.html index.htm; 
    server_name localhost; 
    location / { 
        try_files $uri $uri/ =404; 
    } 
}
</code></pre>

<p>We need to make some changes to this file for our site.</p>

<ul>
<li>First, we need to add an <code>index.php</code> option as the first value of our <code>index</code> directive to allow PHP index files to be served when a directory is requested.</li>
<li>We also need to modify the <code>server_name</code> directive to point to our server’s domain name or public IP address.</li>
<li>For the actual PHP processing, we will need to uncomment a portion of another section. We will also need to add a <code>try_files</code> directive to make sure Nginx doesn’t pass bad requests to our PHP processor.</li>
</ul>

<p>The changes that you need to make are in red in the text below:</p>

<pre><code class="language-prettyprint lang-bash">server {  
    listen 80 default_server; 
    listen [::]:80 default_server ipv6only=on; 
    root /usr/share/nginx/html; 
    index index.php index.html index.htm; 
    server_name server_domain_name_or_IP; 
    location / { 
        try_files $uri $uri/ =404; 
    } 
    error_page 404 /404.html;
    error_page 500 502 503 504 /50x.html; 
    location = /50x.html {
        root /usr/share/nginx/html;
    }
    location ~ .php$ {
        try_files $uri =404;
        fastcgi_split_path_info ^(.+.php)(/.+)$;
        fastcgi_pass unix:/var/run/php5-fpm.sock;
        fastcgi_index index.php;
        fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;
        include fastcgi_params;
    } 
}
</code></pre>

<p>When you’ve made the above changes, you can save and close the file.</p>

<p>Restart Nginx to make the necessary changes:</p>

<pre><code class="language-prettyprint lang-bash">sudo service nginx restart  
</code></pre>

<h3 id="stepfivetest">Step Five — Test</h3>

<p>Your LEMP stack should now be completely set up. We still should test to make sure that Nginx can correctly hand <code>.php</code> files off to our PHP processor.</p>

<p>We can do this by creating a test PHP file in our document root. Open a new file called <code>info.php</code> within your document root in your text editor:</p>

<pre><code class="language-prettyprint lang-bash">sudo vim /usr/share/nginx/html/info.php  
</code></pre>

<p>We can type this into the new file. This is valid PHP code that will return formatted information about our server:</p>

<pre><code class="language-prettyprint lang-php">&lt;?php  
phpinfo();  
?&gt;
</code></pre>

<p>When you are finished, save and close the file.</p>

<p>Now, you can visit this page in your web browser by visiting your server’s domain name or public IP address followed by <code>/info.php</code>:</p>

<pre><code class="language-prettyprint lang-bash">http://server_domain_name_or_IP/info.php  
</code></pre>

<p>You should see a web page that has been shown by PHP with information about your server.</p>

<p>You’ve set up PHP processing with Nginx successfully and You should now have a LEMP stack configured on your Ubuntu 14.04 server.</p>
    </div>

    <div class="post related">
        <a rel="prev" id="prev-btn" class="btn small square" href="../what-is-a-full-stack-developer/">← What is a Full Stack Developer?</a>

        <a rel="next" id="next-btn" class="btn small square" href="../set-up-nginx-server-blocks-virtual-hosts-on-ubuntu-14-04/">Set Up Nginx Server Blocks (Virtual Hosts) on Ubuntu 14.04 →</a>
    </div>

    <footer class="post comments">
  <div id="disqus_thread"></div>
  <script type="text/javascript">
  (function() {
  var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
  dsq.src = '//' + window.disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</footer>

  </article>


      <footer>
  <span class="copyright">
   <a href="http://cuongbangoc.github.io" style="font-weight: bold;">CuongBa Blog</a> © 2015. All rights reserved. Built with <a href="https://ghost.org/" target="_blank">Ghost</a> and <a href="https://github.com/Kikobeats/uno-zen" target="_blank">Uno Zen</a> theme.
  </span>
</footer>
    </section>
  </main>

  <script src="../public/jquery.js?v=070d8cda22"></script>
  <script type="text/javascript" src="../assets/js/run_prettify.js?v=070d8cda22"></script>
  <script type="text/javascript" src="../assets/js/uno.js?v=070d8cda22"></script>
  <script>
  if (window.ga_id) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', window.ga_id, 'auto');
    ga('require', 'linkid', 'linkid.js');
    ga('send', 'pageview');
  }
</script>
</body>
