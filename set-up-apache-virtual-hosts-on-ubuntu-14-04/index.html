<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />

  <title>Set Up Apache Virtual Hosts On Ubuntu 14.04</title>

  <meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="viewport" content="width=device-width, initial-scale=1">



<link rel="apple-touch-icon" sizes="57x57" href="../assets/img/apple-touch-icon-57x57.png?v=wAAv6Wqe6l">
<link rel="apple-touch-icon" sizes="60x60" href="../assets/img/apple-touch-icon-60x60.png?v=wAAv6Wqe6l">
<link rel="apple-touch-icon" sizes="72x72" href="../assets/img/apple-touch-icon-72x72.png?v=wAAv6Wqe6l">
<link rel="apple-touch-icon" sizes="76x76" href="../assets/img/apple-touch-icon-76x76.png?v=wAAv6Wqe6l">
<link rel="apple-touch-icon" sizes="114x114" href="../assets/img/apple-touch-icon-114x114.png?v=wAAv6Wqe6l">
<link rel="apple-touch-icon" sizes="120x120" href="../assets/img/apple-touch-icon-120x120.png?v=wAAv6Wqe6l">
<link rel="apple-touch-icon" sizes="144x144" href="../assets/img/apple-touch-icon-144x144.png?v=wAAv6Wqe6l">
<link rel="apple-touch-icon" sizes="152x152" href="../assets/img/apple-touch-icon-152x152.png?v=wAAv6Wqe6l">
<link rel="apple-touch-icon" sizes="180x180" href="../assets/img/apple-touch-icon-180x180.png?v=wAAv6Wqe6l">
<link rel="icon" type="image/png" href="../assets/img/favicon-32x32.png?v=wAAv6Wqe6l" sizes="32x32">
<link rel="icon" type="image/png" href="../assets/img/favicon-194x194.png?v=wAAv6Wqe6l" sizes="194x194">
<link rel="icon" type="image/png" href="../assets/img/favicon-96x96.png?v=wAAv6Wqe6l" sizes="96x96">
<link rel="icon" type="image/png" href="../assets/img/android-chrome-192x192.png?v=wAAv6Wqe6l" sizes="192x192">
<link rel="icon" type="image/png" href="../assets/img/favicon-16x16.png?v=wAAv6Wqe6l" sizes="16x16">
<link rel="manifest" href="../assets/img/manifest.json?v=wAAv6Wqe6l">
<link rel="shortcut icon" href="../assets/img/favicon.ico?v=wAAv6Wqe6l">
<meta name="msapplication-TileColor" content="#e74c3c">
<meta name="msapplication-TileImage" content="/assets/img/mstile-144x144.png?v=wAAv6Wqe6l">
<meta name="msapplication-config" content="/assets/img/browserconfig.xml?v=wAAv6Wqe6l">
<meta name="theme-color" content="#e74c3c">

  <link rel="stylesheet" type="text/css" href="../assets/css/uno.css?v=40fb1f9047" />

  <link rel="canonical" href="http://cuongbangoc.github.io/set-up-apache-virtual-hosts-on-ubuntu-14-04/" />
    
    <meta property="og:site_name" content="CuongBN - Just Do It" />
    <meta property="og:type" content="article" />
    <meta property="og:title" content="Set Up Apache Virtual Hosts On Ubuntu 14.04" />
    <meta property="og:description" content="Introduction Hi, in the previous article I have shown you “Install LAMP server on Ubuntu 14.04 “, so should be you had a Apache Server. In this article, I want to show you about “Set Up Virtual Hosts” for Apache..." />
    <meta property="og:url" content="http://cuongbangoc.github.io/set-up-apache-virtual-hosts-on-ubuntu-14-04/" />
    <meta property="article:published_time" content="2015-02-11T13:28:42.000Z" />
    <meta property="article:modified_time" content="2015-02-11T13:28:42.000Z" />
    <meta property="article:tag" content="apache" />
    <meta property="article:tag" content="Linux" />
    <meta property="article:tag" content="Virtual Host Files" />
    <meta property="article:tag" content="virtual hosts" />
    
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Set Up Apache Virtual Hosts On Ubuntu 14.04" />
    <meta name="twitter:description" content="Introduction Hi, in the previous article I have shown you “Install LAMP server on Ubuntu 14.04 “, so should be you had a Apache Server. In this article, I want to show you about “Set Up Virtual Hosts” for Apache..." />
    <meta name="twitter:url" content="http://cuongbangoc.github.io/set-up-apache-virtual-hosts-on-ubuntu-14-04/" />
    
    <script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "Article",
    "publisher": "CuongBN - Just Do It",
    "author": {
        "@type": "Person",
        "name": "Cuong Ba Ngoc",
        "image": "//www.gravatar.com/avatar/6d6e584a65d5852e400df206334e72b1?s=250&d=mm&r=x",
        "url": "http://cuongbangoc.github.io/author/cuongbangoc",
        "sameAs": null,
        "description": null
    },
    "headline": "Set Up Apache Virtual Hosts On Ubuntu 14.04",
    "url": "http://cuongbangoc.github.io/set-up-apache-virtual-hosts-on-ubuntu-14-04/",
    "datePublished": "2015-02-11T13:28:42.000Z",
    "dateModified": "2015-02-11T13:28:42.000Z",
    "keywords": "apache, Linux, Virtual Host Files, virtual hosts",
    "description": "Introduction Hi, in the previous article I have shown you “Install LAMP server on Ubuntu 14.04 “, so should be you had a Apache Server. In this article, I want to show you about “Set Up Virtual Hosts” for Apache..."
}
    </script>

    <meta name="generator" content="Ghost 0.6" />
    <link rel="alternate" type="application/rss+xml" title="CuongBN - Just Do It" href="http://cuongbangoc.github.io/rss/" />
    <script>
var profile_title = 'Cuong Ba Ngoc';
var profile_resume ='Software Engineer';
</script>

</head>
<body class="post-template tag-apache tag-linux tag-virtual-host-files tag-virtual-hosts">

  <section id="menu-button" class="expanded">
    <a><i class="icon icon-list"></i></a>
  </section>

  <aside class="cover">

  <div class="cover container">
    <div class="profile">
      <a id="avatar-link" title="link to homepage for CuongBN - Just Do It" href="http://cuongbangoc.github.io/#open">
        <img src="../content/images/2015/08/avatar.jpg" alt="CuongBN - Just Do It avatar" class="profile avatar rounded hvr-buzz-out" />
        <h1 id="profile-title">CuongBN - Just Do It</h1>
        <h3 id="profile-resume"></h3>
      </a>

      <hr class="divider long" />
      <p>Software Engineer, I&#x27;m a man passionate about programming languages, new technologies and open-sources...</p>
      <hr class="divider short" />
      <div class="navigation">
        <div class="profile contact">
          <nav class="navigation left">
  <ul class="links">
    <li class="links item">
      <a href="http://cuongbangoc.github.io/#open" class="link-item" title="CuongBN - Just Do It blog" id="blog-button">Blog</a>
        <a href="../index.html" class="link-item" id="-button">Home</a>
        <a href="../about/index.html" class="link-item" id="-button">About</a>
    </li>
  </ul>
</nav>
          
<nav class="navigation right">
  <ul class="social expanded">

  <!-- Twitter -->
  <!--<li class="social item hvr-grow-rotate">
    <a target="blank" href="http://twitter.com/kikobeats" title="@Kikobeats on Twitter">
      <i class='icon icon-social-twitter'></i>
      <span class="label">Twitter</span>
    </a>
  </li> -->

  <!-- Linkedin -->
  <li class="social item hvr-grow-rotate">
    <a target="blank" href="http://linkedin.com/in/cuongbangoc" title="CuongBaNgoc on LinkedIn">
      <i class='icon icon-social-linkedin'></i>
      <span class="label">Linkedin</span>
    </a>
  </li>

  <!-- Github -->
  <li class="social item hvr-grow-rotate">
    <a target="blank" href="https://github.com/cuongbangoc" title="CuongBaNgoc on Github">
      <i class='icon icon-social-github'></i>
      <span class="label">Github</span>
    </a>
  </li>

  <!-- Facebook -->
    <li class="social item hvr-grow-rotate">
      <a target="blank" href="http://facebook.com/ngoccuongkaka" title="CuongBaNgoc on Facebook">
        <i class='icon icon-social-facebook'></i>
        <span class="label">Facebook</span>
      </a>
    </li>

  <!-- RSS -->
  <li class="social item hvr-grow-rotate">
    <a href="../rss/index.html" title="Subscribe to RSS">
      <i class='icon icon-rss'></i>
      <span class="label">RSS</span>
    </a>
  </li>

  </ul>
</nav>
          <section class="icon icon-search" id="search-container">
  <hr class="divider short" />
  <form id="search-form">
    <input type="text", name="search", placeholder="git, css, javascript,..." id="search-field" />
  </form>
</section>
        </div>
      </div>
    </div>
  </div>
</aside>

  <main>
    <section id="search-results"></section>
    <section class="content">
      

  <article class="post tag-apache tag-linux tag-virtual-host-files tag-virtual-hosts">
    <header>
      <div class="post meta">
        <time datetime="11 Feb 2015">11 Feb 2015</time>
        <span class="post tags">in <a href="../tag/apache/index.html">apache</a> <a href="../tag/linux/index.html">Linux</a> <a href="../tag/virtual-host-files/index.html">Virtual Host Files</a> <a href="../tag/virtual-hosts/index.html">virtual hosts</a></span>


        <span class="post reading-time"> ~ <span></span> read.</span>
      </div>

      <a alt="Tweet 'Set Up Apache Virtual Hosts On Ubuntu 14.04'" href="https://twitter.com/intent/tweet?text=Set%20Up%20Apache%20Virtual%20Hosts%20On%20Ubuntu%2014.04 %20%C2%BB%20&amp;url=http://cuongbangoc.github.io/set-up-apache-virtual-hosts-on-ubuntu-14-04/" >
        
        <h1 class="icon-reverse icon-social-twitter-post" id="post-title">Set Up Apache Virtual Hosts On Ubuntu 14.04</h1>
      </a>
    </header>

    <div id="post-content" class="post tag-apache tag-linux tag-virtual-host-files tag-virtual-hosts">
      <h3 id="introduction">Introduction</h3>

<p>Hi, in the previous article I have shown you “<a href="https://cuongba.wordpress.com/2015/02/09/install-linux-apache-mysql-php-lamp-on-ubuntu-14-04/" title="Install Linux, Apache, MySQL, PHP (LAMP) on Ubuntu 14.04">Install LAMP server on Ubuntu 14.04</a> “, so should be you had a Apache Server. In this article, I want to show you about “Set Up Virtual Hosts” for Apache On Ubuntu 14.04.</p>

<p>Apache breaks its functionality and components into individual units that can be customized and configured independently. The basic unit that describes an individual site or domain is called a <strong>Virtual Hosts</strong>. These designations allow the administrator to use one server to host multiple domains or sites off of a single interface or IP by using a matching mechanism.</p>

<h2 id="steponecreatenewvirtualhostfiles">Step One — Create New Virtual Host Files</h2>

<p>Virtual host files are the files that specify the actual configuration of our virtual hosts and dictate how the Apache web server will respond to various domain requests.</p>

<p>Apache comes with a default virtual host file called <code>000-default.conf</code> that we can use as a jumping off point. We are going to copy it over to create a virtual host file for each of our domains.</p>

<p>We will start with one domain, configure it, copy it for our second domain, and then make the few further adjustments needed. The default Ubuntu configuration requires that each virtual host file end in <code>.conf</code>.</p>

<p>Copying the file for the our domain:</p>

<p>sudo cp /etc/apache2/sites-available/000-default.conf /etc/apache2/sites-available/<span class="highlight">example.com</span>.conf</p>

<p>Open the new file in your editor with root privileges:</p>

<p>sudo vi /etc/apache2/sites-available/<span class="highlight">example.com</span>.conf</p>

<p>The file will look something like this (I’ve removed the comments here to make the file more approachable):</p>

<p><VirtualHost *:80> ServerAdmin webmaster@localhost DocumentRoot /var/www/html ErrorLog ${APACHE<em>LOG</em>DIR}/error.log CustomLog ${APACHE<em>LOG</em>DIR}/access.log combined </VirtualHost></p>

<p>As you can see, there’s not much here. We will customize the items here for our domain and add some additional directives. This virtual host section matches <em>any</em> requests that are made on port 80, the default HTTP port.</p>

<p>First, we need to change the <code>ServerAdmin</code> directive to an email that the site administrator can receive emails through.</p>

<p>ServerAdmin <span class="highlight">admin@example.com</span></p>

<p>After this, we need to <em>add</em> two directives. The first, called <code>ServerName</code>, establishes the base domain that should match for this virtual host definition. This will most likely be your domain. The second, called <code>ServerAlias</code>, defines further names that should match as if they were the base name. This is useful for matching hosts you defined, like <code>www</code>:</p>

<p>ServerName <span class="highlight">example.com</span> ServerAlias <span class="highlight">www.example.com</span></p>

<p>The only other thing we need to change for a basic virtual host file is the location of the document root for this domain. We just need to alter the <code>DocumentRoot </code>directive to reflect the directory our web project:</p>

<p>DocumentRoot /var/www/html/<span class="highlight">example.com</span>/public_html</p>

<p>In total, our virtual host file should look like this:</p>

<p><VirtualHost *:80> ServerAdmin <span class="highlight">admin@example.com</span> ServerName <span class="highlight">example.com</span> ServerAlias <span class="highlight">www.example.com</span> DocumentRoot /var/www/html/<span class="highlight">example.com</span>/public<em>html ErrorLog ${APACHE</em>LOG<em>DIR}/error.log CustomLog ${APACHE</em>LOG_DIR}/access.log combined </VirtualHost></p>

<p>Save and close the file.</p>

<h2 id="steptwoenablethenewvirtualhostfiles">Step Two — Enable the New Virtual Host Files</h2>

<p>Now that we have created our virtual host files, we must enable them. Apache includes some tools that allow us to do this.</p>

<p>We can use the <code>a2ensite</code> tool to enable each of our sites like this:</p>

<p>sudo a2ensite <span class="highlight">example.com</span>.conf</p>

<p>When you are finished, you need to restart Apache to make these changes take effect:</p>

<pre><code>sudo service apache2 restart  
</code></pre>

<p>You will most likely receive a message saying something similar to:</p>

<pre><code> * Restarting web server apache2
 AH00558: apache2: Could not reliably determine the server's fully qualified domain name, using 127.0.0.1. Set the 'ServerName' directive globally to suppress this message
</code></pre>

<p>This is a harmless message that does not affect our site.</p>

<h2 id="stepthreesetuplocalhostsfileoptional">Step Three — Set Up Local Hosts File (Optional)</h2>

<p>If you haven’t been using actual domain names and have been using some example domains instead, you can test your website on local server by modifying the <code>hosts</code> file on your local computer.</p>

<p>edit your local file with administrative privileges by typing:</p>

<pre><code>sudo vi /etc/hosts  
</code></pre>

<p>The details that you need to add are the your IP address of your computer. Your IP address is 127.0.0.1</p>

<p>I could add the following lines to the bottom of my hosts file:</p>

<p>127.0.0.1 localhost 127.0.0.1 <span class="highlight">example.com</span></p>

<p>This will direct any requests for <code>example.com</code>  on your computer and send them to your server at 127.0.0.1 which is your local server.</p>

<p>Save and close the file.</p>

<h2 id="stepfourtestyourresults">Step Four — Test your Results</h2>

<p>Now that you have your virtual hosts configured, you can test your setup easily by going to the domains that you configured in your web browser:</p>

<p>http://<span class="highlight">example.com</span></p>

<p>You should be see your website is shown in web browser and we are successfully configured virtual hosts for Apache server.</p>
    </div>

    <div class="post related">
        <a rel="prev" id="prev-btn" class="btn small square" href="../installing-and-using-vim-editor-on-linux/index.html">← Installing and Using Vim Editor on Linux</a>

        <a rel="next" id="next-btn" class="btn small square" href="../add-and-delete-user-on-ubuntu-14-04/index.html">Add and Delete User on Ubuntu 14.04 →</a>
    </div>

    <footer class="post comments">
  <div id="disqus_thread"></div>
  <script type="text/javascript">
  (function() {
  var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
  dsq.src = '//' + window.disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</footer>

  </article>


      <footer>
  <span class="copyright">
   <a href="http://cuongbangoc.github.io" style="font-weight: bold;">CuongBa Blog</a> &copy; 2015. All rights reserved. Built with <a href="https://ghost.org/" target="_blank">Ghost</a> and <a href="https://github.com/Kikobeats/uno-zen" target="_blank">Uno Zen</a> theme.
  </span>
</footer>
    </section>
  </main>

  <script src="../public/jquery.js?v=40fb1f9047"></script>
  <script type="text/javascript" src="../assets/js/run_prettify.js?v=40fb1f9047"></script>
  <script type="text/javascript" src="../assets/js/uno.js?v=40fb1f9047"></script>
  <script>
  if (window.ga_id) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', window.ga_id, 'auto');
    ga('require', 'linkid', 'linkid.js');
    ga('send', 'pageview');
  }
</script>
</body>
</html>
